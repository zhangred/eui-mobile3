"use strict";const Eui=function(){function t(t){let e=this,n,a=!1;if(!t.insetDom){if(!t.containerId)return void console.warn("未配置容器id，参数->",t);if(!(n=document.getElementById(t.containerId)))return void console.warn("页面未有对应的容器id，参数d->",t)}var i=void 0!==t.zIndex?t.zIndex:X.zIndex.popup,s=R.createDom({tag:"div",className:"eui-pack eui-mask"});let o=!1!==t.closeOnMask;const l={};let r=R.createDom({tag:"div",style:{zIndex:i},className:`eui-pack eui-popup ${t.className||""} ${t.maskTransparent?"eui-popup-transparent":""} eui-position-${t.position||"center"} `+(C?"eui-iphonex":"")}),c=R.createDom({tag:"div",className:`eui-popup-content ${t.contentClassName||""} eui-position-${t.position||"center"} `+(t.round?"eui-popup-round":"")});r.appendChild(s),r.appendChild(c),document.body.appendChild(r),R.bindEvent(r,["addClass","removeClass","hasClass","show","hide"]),R.bindEvent(c,["addClass","removeClass","html"]),void 0!==t.insetDom?(t.insetDom=t.insetDom||"",c.html(t.insetDom)):c.appendChild(n),this.show=function(){a||(R.stopBodyScroll(l),t.onOpen&&t.onOpen(t.mark),r.show().removeClass("eui-popup-hide").addClass("eui-popup-show"))},this.hide=function(e){a||((e=e||{}).mark=t.mark,t.onAsyncClose?(this.setWaiting(!0),t.onAsyncClose(e,e=>{this.setWaiting(!1),e&&this.realHide()})):this.realHide(e))},this.realHide=function(e){R.resetBodyScroll(l),t.onClose&&t.onClose(e),r.hide(400).removeClass("eui-popup-show").addClass("eui-popup-hide")},this.destory=function(){a||(this.hide=this.show=this.setWaiting=this.setInnerHtml=null,r.remove())},this.setWaiting=function(e){(a=e)?c.addClass("waiting"):c.removeClass("waiting")},this.setInnerHtml=function(e){R.setInnerHtml(c,e)},t.show&&this.show(),s.addEventListener("click",function(){o&&e.hide({type:"mask"})}),t.trigger&&R.bindTrigger(t.trigger,"click",()=>{e.show&&e.show()}),t.triggerClose&&R.bindTrigger(t.triggerClose,"click",()=>{e.hide&&e.hide()})}function n(t){"object"!==R.getType(t)&&(t={message:t});let n=this;var e=t.type||"";let a=t.mask||!1;var i=null!=t.zIndex?t.zIndex:X.zIndex.toast,s=t.className||"",o=t.duration||2e3;let l=t.animateIn||"eui-fadeIn",r=t.animateOut||"eui-fadeOut";var c=t.color||"";const d={};console.log(e);let u;a&&(u=R.createDom({tag:"div",className:"eui-pack eui-mask",style:{zIndex:i-1}}),document.body.appendChild(u),R.stopBodyScroll(d));var m=e&&!t.isNotify?`<div class="eui-toast-type ${e}"><div></div><div></div><div></div><div></div><div></div></div>`:"";let p=R.createDom({tag:"div",className:`eui-pack eui-toast ${l} eui-flex ${s} `+e,innerHTML:`<div class="eui-toast-content" ${c?`style="background:${c}"`:""}>${m}<div class="eui-toast-message">${t.message||""}</div></div>`,style:{zIndex:i}}),h=(document.body.appendChild(p),p.getElementsByClassName("eui-toast-message")[0]);this.hide=function(e){e=e||0,setTimeout(()=>{a&&R.resetBodyScroll(d),p.classList.remove(l),p.classList.add(r)},e),setTimeout(()=>{u&&u.remove(),p.remove(),t.onClose&&t.onClose(),n.distory()},e+310)},this.setMessage=function(e){h.innerHTML=e},this.distory=function(){this.hide=null,this.setMessage=null},0!==t.duration&&this.hide(o)}function a(e){return(e="string"==R.getType(e)?{message:e}:e).duration=null!=e.duration?e.duration:3e3,e.className="eui-notify "+(e.className||""),e.animateIn="eui-fadeInDown",e.animateOut="eui-fadeOutDown",e.isNotify=!0,new U.toast(e)}function s(e){this.EUITIME=!0,this.isValid=!1,this.date=null,this.data={};var t=R.getType(e);-1<["string","number"].indexOf(t)?this.date=new Date(this.initStr(e)):this.date=new Date,this.isValid=this.checkValid(),this.fixedInfo()}function i(n){const t=this;let a=!1,e=null!=n.zIndex?n.zIndex:X.zIndex.actionSheet,i=n.actions||[],s=n.title||"",o,l=R.createDom({tag:"div",className:`eui-pack eui-actionSheet-container ${n.contentClassName||""} `+(n.showCancel?"eui-actionSheet-with-cancel":"")});function r(){l.innerHTML="",s&&l.appendChild(R.createDom({tag:"div",className:"eui-actionSheet-line eui-actionSheet-title",innerHTML:s}));for(let t=0;t<i.length;t++){let e;(e="string"==R.getType(i[t])?R.createDom({tag:"div",className:"eui-actionSheet-line eui-actionSheet-item i"+t,innerHTML:i[t]}):R.createDom({tag:"div",className:`eui-actionSheet-line eui-actionSheet-item ${i[t].className||""} `+(i[t].disabled?"disabled":""),innerHTML:`
              <div>${i[t].name}</div>
              ${i[t].subname?`<div class="eui-actioinSheet-subname">${i[t].subname}</div>`:""}
            `,style:i[t].color?{color:i[t].color}:{}})).setAttribute("data-index",t),l.appendChild(e)}n.showCancel&&l.appendChild(R.createDom({tag:"div",className:"eui-actionSheet-line eui-actionSheet-cancel",innerHTML:"string"==R.getType(n.showCancel)?n.showCancel:"取消"}))}r(),this.show=function(){o=o||Eui.popup({insetDom:l,zIndex:e,position:"bottom",className:"eui-actionSheet",closeOnMask:n.closeOnMask||!1,round:!0,onClose:function(e){e&&"mask"===e.type&&n.onCancel&&n.onCancel()}}),n.onOpen&&n.onOpen(),o.show()},this.reset=function(e){void 0!==e.title&&(s=e.title),void 0!==e.actions&&(i=e.actions),r(),e.show&&t.show()},this.destory=function(){o.destory(),this.destory=this.reset=this.show=null},l.addEventListener("click",function(e){var t;a||((e=R.getNodeByClassName(e.target,"eui-actionSheet-line")).classList.contains("eui-actionSheet-cancel")?(n.onCancel&&n.onCancel(),o.hide()):e.classList.contains("eui-actionSheet-item")&&(t=parseInt(e.getAttribute("data-index")),e.classList.contains("disabled")||(n.onAsyncSelect?(a=!0,o.setWaiting(!0,!0),n.onAsyncSelect({index:t,data:n.actions[t]},e=>{a=!1,o.setWaiting(!1,!0),e&&o.hide()})):n.onSelect&&(n.onSelect({index:t,data:n.actions[t]}),o.hide()))))}),n.trigger&&R.bindTrigger(n.trigger,"click",()=>{t.show()})}function o(t){t.type=-1===["alert","confirm","prompt"].indexOf(t.type)?"alert":t.type;let e=this,n=!1;var a=void 0!==t.zIndex?t.zIndex:X.zIndex.dialog;const i={};var s=R.createDom({tag:"div",className:"eui-dialog-container"});let o=R.createDom({tag:"div",className:"eui-dialog-title "+(null===t.title?"eui-dialog-title-empty":""),innerHTML:null===t.title?"":t.title||"提示"}),l=R.createDom({tag:"div",className:"eui-dialog-conttext "+(t.content?"":"eui-dialog-conttext-empty"),innerHTML:t.content}),r=R.createDom({tag:"input",className:"eui-dialog-input",attr:{placeHolder:t.placeholder||"请输入"}});"prompt"===t.type&&(l.classList.remove("eui-dialog-conttext-empty"),l.innerHTML="",t.topContent&&l.appendChild(R.createNode(`<div class="eui-dialog-conttext-top">${t.topContent}</div>`)),l.appendChild(r),t.bottomContent)&&l.appendChild(R.createNode(`<div class="eui-dialog-conttext-bot">${t.bottomContent}</div>`));var c=R.createDom({tag:"div",className:`eui-dialog-btnrow eui-flex ${t.round?"eui-dialog-btnrow-round":""} `+("alert"!==t.type?"eui-dialog-btnrow-showcancel":"")});let d=R.createDom({tag:"a",className:"eui-flex-aic-jcc eui-dialog-btn eui-dialog-btn-cancel",innerHTML:t.cancelBtnText||"取消",attr:{href:"javascript:;"},style:t.styleBtnCancel||{}}),u=R.createDom({tag:"a",className:"eui-flex-aic-jcc eui-dialog-btn eui-dialog-btn-confirm",innerHTML:t.confirmBtnText||"确认",attr:{href:t.href||"javascript:;"},style:t.styleBtnConfirm||{}}),m=(R.stopBodyScroll(i),"alert"!==t.type&&c.appendChild(d),c.appendChild(u),s.appendChild(o),s.appendChild(l),s.appendChild(c),Eui.popup({insetDom:s,zIndex:a,show:!0,round:!0,closeOnMask:!1,className:"eui-dialog "+(t.className||""),onClose:function(){t.onClose&&t.onClose(),setTimeout(()=>{m.destory(),e.destory()},350)}}));this.hide=function(){m.hide()},this.setContent=function(e){R.setInnerHtml(l,e)},this.setTitle=function(e){R.setInnerHtml(o,e)},this.setWaiting=function(e){n=e},this.destory=function(){R.resetBodyScroll(i),this.hide=this.setMessage=this.setTitle=this.setWaiting=null},u.addEventListener("click",function(){var e;n||(t.href?m.hide():(e="prompt"===t.type?r.value.trim():void 0,t.onAsyncConfirm?(n=!0,u.classList.add("eui-dialog-btn-loading"),u.innerHTML=t.confirmBtnTextAsync||t.confirmBtnText||"确认",t.onAsyncConfirm(e=>{setTimeout(()=>{n=!1},300),u.classList.remove("eui-dialog-btn-loading"),u.innerHTML=t.confirmBtnText||"确认",e&&m.hide()},e)):(t.onConfirm&&t.onConfirm(e),m.hide())))}),"alert"!==t.type&&d.addEventListener("click",function(){n||(t.onAsyncCancel?(n=!0,d.classList.add("eui-dialog-btn-loading"),d.innerHTML=t.cancelBtnTextAsync||t.cancelBtnText||"取消",t.onAsyncCancel(e=>{setTimeout(()=>{n=!1},300),d.classList.remove("eui-dialog-btn-loading"),d.innerHTML=t.cancelBtnText||"取消",e&&m.hide()})):(t.onCancel&&t.onCancel(),m.hide()))})}function v(g){if(g.containerId||g.container){let e;if(g.containerId&&!(e=document.getElementById(g.containerId)))console.warn("未配置容器id，参数->",g);else{e=e||g.container;let a=this,s=g.fieldValueName||"id",o=g.fieldLabelName||"name",t=!!g.required,i=R.resetSelecterOptioins(g.options),n=g.defaultValue,l=!1!==g.show;null==n&&t&&i.length&&(n=i[0][s]);var v={};g.width&&"auto"!==g.width&&(v.width="string"===R.getType(g.width)?g.width:g.width+"px",v.flex="0 0 "+v.width);let r=R.createDom({tag:"div",className:`eui-pack eui-selecter ${g.className||""} `+(!1===l?"eui-selecter-hide":""),style:v}),c=(this.node=r,e.appendChild(r),R.createDom({tag:"div",className:"eui-selecter-title "+(g.title?"":"eui-selecter-title-empty"),innerHTML:g.title}));r.appendChild(c);v=T(i,n);let d=R.createDom({tag:"div",className:"eui-selecter-scroller",innerHTML:v.text});var y=R.createDom({tag:"div",className:"eui-selecter-warp"});y.appendChild(d),r.appendChild(y);let u=44*(-1-v.index),m=0,p=0,h=44*-i.length,f=t?-44:0;function T(t,n){let a="",i=-1;for(let e=0;e<t.length;e++)a+=`<div class="eui-selecter-option ${t[e].disabled?"eui-selecter-option-disabled":""}">${t[e][o]}</div>`,n===t[e][s]&&(i=e);return{text:a,index:i}}this.result={},d.style.webkitTransform="translateZ(0) translateY("+u+"px)",y.addEventListener("touchstart",function(e){d.style.webkitTransition="all 0s";e=e.targetTouches;m=e[0].pageY},!1),y.addEventListener("touchmove",function(e){var t=e.targetTouches,t=(p=t[0].pageY)-m;d.style.webkitTransform="translateZ(0) translateY("+(u+t)+"px)",e.preventDefault()},!1),y.addEventListener("touchend",function(e){if(d.style.webkitTransition="all .3s",0==p)return m=p=0,!1;var t=u,n=(u=(u=44*Math.round((u+p-m)/44))<=h?h:u>=f?f:u,d.style.webkitTransform="translateZ(0) translateY("+u+"px)",m=p=0,Math.abs(u/44)-1);n!==a.result.index&&(i[n]&&i[n].disabled?(u=t,d.style.webkitTransform="translateZ(0) translateY("+u+"px)"):(a.setValue(n),g.onSelect&&g.onSelect(a.result)))},!1),this.setValue=function(e){this.result.index=e,this.result.value=0<=e?i[e][s]:null,this.result.data=0<=e?i[e]:null,n=this.result.value},this.getResult=function(){return this.result},this.setWidth=function(e){"auto"===e?(r.style.removeProperty("width"),r.style.removeProperty("flex")):(e="string"===R.getType(e)?e:e+"px",r.style.width=e,r.style.flex="0 0 "+e)},this.toggleShow=function(e){l=void 0===e?!l:!!e,r.classList[l?"remove":"add"]("eui-selecter-hide")},this.setValue(v.index),this.reset=function(e){e.options&&(a.result={},i=R.resetSelecterOptioins(e.options),h=44*-i.length),void 0!==e.required&&(t=!!e.required,f=t?-44:0),n=(void 0===e.value?a.result:e).value,void 0!==e.title&&(c.innerHTML=""+e.title,c.classList[""!==e.title?"remove":"add"]("eui-selecter-title-empty")),o=null==e.fieldLabelName?o:e.fieldLabelName,s=null==e.fieldValueName?s:e.fieldValueName;e=T(i,n);d.innerHTML=e.text,u=44*(-1-e.index),a.setValue(e.index),d.style.webkitTransition="all .3s",d.style.webkitTransform="translateZ(0) translateY("+u+"px)"}}}else console.warn("请配置容易id或者容器node节点->",g)}function l(n){let e=this,t=n.options||[],a=n.containerId&&document.getElementById(n.containerId)?"page":"popup",i=void 0!==n.zIndex?n.zIndex:X.zIndex.picker,s=void 0!==n.required&&!!n.required,o,l,r,c,d={},u={};function m(){o=F._renderPickerIframe(n),r=new v({container:o.node,options:t,fieldValueName:n.fieldValueName||"id",fieldLabelName:n.fieldLabelName||"name",required:s,defaultValue:n.defaultValue,onSelect:function(e){var t=U._cloneDeep(e);u=t,n.onSelect&&n.onSelect(U._cloneDeep(e))}}),d=U._cloneDeep(r.result),u=U._cloneDeep(r.result)}let p={};function h(){m(),f(),c=Eui.popup({closeOnMask:n.closeOnMask,onOpen:n.onOpen,maskTransparent:n.maskTransparent,contentClassName:n.contentClassName,round:n.round,insetDom:o.node,zIndex:i,className:"eui-picker "+(n.className||""),position:"bottom",...p})}function f(){o.callback=function(e){if("pophide"==e)c&&c.hide();else if("getvalue"==e)if(s&&-1===u.index)U.toast({message:"请选择选项",type:"warn"});else{if(u.index!==d.index)return U._cloneDeep(u);console.info("选择器数据未改变"),c&&c.hide()}else"setvalue"==e?d=U._cloneDeep(u):"clear"==e&&(s?U.toast({message:"必选项，不可清除",type:"warn"}):n.onClear?n.onClear(e=>{e&&c&&c.hide()},n.mark):(r.reset({value:null}),u=U._cloneDeep(r.result)))}}n.onAsyncClose?p.onAsyncClose=n.onAsyncClose:p.onClose=function(){n.onClose&&n.onClose()},"page"==a?(l=document.getElementById(n.containerId),m(),f(),l.appendChild(o.node)):n.trigger&&R.bindTrigger(n.trigger,"click",()=>{e.show&&e.show()}),this.setWaiting=function(e){c||"popup"!=a||h(),o.setWaiting(e)},this.resetTitle=function(e){c||"popup"!=a||h(),o.resetTitle(e)},this.resetButton=function(e){c||"popup"!=a||h(),o.resetButton(e)},this.resetPicker=function(e){c||"popup"!=a||h(),r.reset(e),u=U._cloneDeep(r.result),e.temporary||(d=U._cloneDeep(r.result))},this.getValue=function(){return c||"popup"!=a||h(),n.beforeGetValue?n.beforeGetValue(U._cloneDeep(d)):U._cloneDeep(d)},this.show=function(){c||"popup"!=a||h(),d.value!==u.value&&(r.reset({value:d.value}),u=U._cloneDeep(d)),c.show()},this.destory=function(){c.destory(),e.setWaiting=e.resetTitle=e.resetButton=e.resetPicker=e.getValue=e.show=null,e=null}}function r(p){if(p.columnsList&&0!=p.columnsList.length){let a=this,i=p.containerId&&document.getElementById(p.containerId),e=null!=p.zIndex?p.zIndex:X.zIndex.picker,s=void 0===p.required||!!p.required,t,o,l,r={},c={},d={},u={},m={};function n(){t=F._renderPickerIframe(p),l=R.createDom({tag:"div",className:"eui-picker-vessel eui-flex"}),t.node.appendChild(l);for(let e=0;e<p.columnsList.length;e++){let t=p.columnsList[e],n=t.name;u[n]=[...t.options],m[n]=[...t.options],d[n]={},d[n].name=n,d[n].show=!1!==t.show,d[n].selecter=new v({className:"eui-picker-column eui-picker-column-"+n,container:l,options:t.options,title:t.title||"",fieldValueName:t.fieldValueName||p.fieldValueName||"id",fieldLabelName:t.fieldLabelName||p.fieldLabelName||"name",defaultValue:t.defaultValue,required:void 0!==t.required&&!!t.required,width:t.width||"auto",show:!1!==t.show,onSelect:function(e){e=U._cloneDeep(e);g(n,e),t.onSelect&&t.onSelect(e)}}),g(n,d[n].selecter.result)}r=U._cloneDeep(c)}function h(){t.callback=function(e,t){if("pophide"==e)o&&o.hide();else if("getvalue"==e){let t=!0;if(Object.keys(c).forEach(e=>{-1===c[e].index&&d[e].show&&(t=!1)}),t){let t=!0;if(Object.keys(c).forEach(e=>{c[e].index!==r[e].index&&d[e].show&&(t=!1)}),!t)return a.getValue();console.info("选择器数据未改变"),o&&o.hide()}else U.toast({message:"请选择完整",type:"warn"})}else if("setvalue"==e)u=U._cloneDeep(m),r=U._cloneDeep(c);else if("clear"==e)if(s)U.toast({message:"必选项，不可清除",type:"warn"});else if(p.onClear)p.onClear(e=>{e&&o&&o.hide()},p.mark);else for(var n in d)d[n].selecter.reset({value:null}),g(n,d[n].selecter.result)}}function f(){n(),h(),o=Eui.popup({closeOnMask:p.closeOnMask,onOpen:p.onOpen,maskTransparent:p.maskTransparent,contentClassName:p.contentClassName,round:p.round,insetDom:t.node,zIndex:e,className:"eui-cascader "+(p.className||""),position:"bottom",onClose:p.onClose})}function g(e,t){c[e]=U._cloneDeep(t)}i?(n(),h(),p.className&&p.className.split(" ").forEach(e=>{t.node.classList.add(e)}),i.appendChild(t.node)):p.trigger&&R.bindTrigger(p.trigger,"click",e=>{c.target=e,a.show()}),this.setWaiting=function(e){o||i||f(),t.setWaiting(e)},this.resetTitle=function(e){o||i||f(),t.resetTitle(e)},this.resetWidth=function(e,t){d[e].setWidth(t)},this.resetButton=function(e){o||i||f(),t.resetButton(e)},this.getValue=p.getValue||function(){return o||i||f(),p.beforeGetValue?p.beforeGetValue(U._cloneDeep(c)):U._cloneDeep(c)},this.toggleColumn=function(e,t){o||i||f(),("array"===R.getType(e)?e:[e]).forEach(e=>{d[e]&&(d[e].show=void 0===t?!d[e].show:!!t,d[e].selecter.toggleShow(d[e].show))})},this.resetColumn=function(e,t){var n;o||i||f(),d[e]?(n={},t.options&&(n.options=t.options),null!=t.value&&(n.value=t.value),null!=t.title&&(n.title=t.title),t.options&&(m[e]=U._cloneDeep(t.options)),d[e].selecter.reset(n),t.temporary||(r[e]=U._cloneDeep(d[e].selecter.result),t.options&&(u[e]=U._cloneDeep(t.options))),g(e,d[e].selecter.result)):console.warn("重置name值有误，参数->",e,t)},this.show=function(){for(var e in o||i||f(),r)r[e].value!==c[e].value&&d[e].selecter.reset({value:r[e].value,options:u[e]});c=U._cloneDeep(r),o&&o.show()}}else console.warn("未设置联级数据，参数->",p)}function c(n){var e={...n};let s=[],o=e.spaceHours||1,l=e.spaceMinutes||1,r=e.spaceSeconds||1,c=e.columns||["year","month","date"],d=e.format||"YYYY-MM-DD";var t=e.defaultTime||null,a=e.yearStart||1949,i=e.yearEnd||2040,u="eg"!==e.lang;let m=!1!==e.showLabel,p=!1!==e.showWeek;var h=!!e.showRowTitle;let f,g=0,v={year:u?"年":"Y",month:u?"月":"M",date:u?"日":"D",hours:u?"时":"H",minutes:u?"分":"m",seconds:u?"秒":"s",week:u?["周日","周一","周二","周三","周四","周五","周六"]:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},y=t?U.time(t):U.time(),T=(y.isValid||(console.warn("默认日期格式有误，参数->",e),y=U.time()),y.clone());function w(e){if(!e)return null;let t=U.time(e);return t.isValid||(t=null,console.warn("时间格式有误，参数->",e)),t}let C=w(e.minTime),b=w(e.maxTime);function L(t,n,a,i){var s=[],o=T.clone().set(1,"date").shifting("date",-1).get("day"),l="month"===t?1:0;for(let e=n;e<a;e+=i){var r=m?v[t]:"",r=(r+="date"===t&&p?r?`(${v.week[(o+e)%7]})`:v.week[(o+e)%7]:"")?`<span class="eui-picker-timelabel">${r}</span>`:"";s.push({id:e,name:e+l+r})}return s}function x(e,t){if(C&&e.isBefore(C))U.toast({message:t+"不应小于"+C.format(d),type:"warn"});else{if(!b||!e.isafter(b))return 1;U.toast({message:t+"不应大于"+b.format(d),type:"warn"})}}function k(e,t){let n=T.clone();var a;-1<["year","month"].indexOf(e)&&(a=T.clone().set(1,"date").set(t.value,e).getMonthLength())<T.get("date")?n=T.clone().set(a,"date").set(t.value,e):n.set(t.value,e),x(n,"所选时间")?(T=n,-1<["year","month"].indexOf(e)&&(a=n.getMonthLength(),D.resetColumn("date",{options:L("date",1,a+1,1),value:n.data.date,temporary:!0}),g=a)):D.resetColumn(e,{value:T.get(e)})}var u=parseInt(y.get("hours")/o)*o,t=parseInt(y.get("minutes")/l)*l,N=parseInt(y.get("seconds")/r)*r;function M(){for(let e=0;e<s.length;e++){var t=s[e].name;s[e].show=-1<c.indexOf(t),D.toggleColumn(t,s[e].show)}}y.set(u,"hours").set(t,"minutes").set(N,"seconds"),g=y.getMonthLength(),s[0]={name:"year",required:!0,title:h?v.year:"",options:[],className:"a",defaultValue:y.get("year"),options:L("year",a,i,1),onSelect:function(e){k("year",e)}},s[1]={name:"month",required:!0,title:h?v.month:"",options:[],defaultValue:y.get("month"),options:L("month",0,12,1),onSelect:function(e){k("month",e)}},s[2]={name:"date",required:!0,title:h?v.date:"",options:[],defaultValue:y.get("date"),options:L("date",1,y.getMonthLength()+1,1),onSelect:function(e){k("date",e)}},s[3]={name:"hours",required:!0,title:h?v.hours:"",options:[],defaultValue:y.get("hours"),options:L("hours",0,24,o),onSelect:function(e){k("hours",e)}},s[4]={name:"minutes",required:!0,title:h?v.minutes:"",options:[],defaultValue:y.get("minutes"),options:L("minutes",0,60,l),onSelect:function(e){k("minutes",e)}},s[5]={name:"seconds",required:!0,title:h?v.seconds:"",options:[],defaultValue:y.get("seconds"),options:L("seconds",0,60,r),onSelect:function(e){k("seconds",e)}},e.columnsList=s,e.className=(e.className||"")+" eui-picker-datetimepicker",e.fieldValueName="id",e.fieldLabelName="name",e.trigger=null,e.onConfirm=null,e.getValue=e.beforeGetValue=function(){return{time:T.data.time,format:d,formatDate:T.format(d)}},n.trigger&&R.bindTrigger(n.trigger,"click",e=>{var t=e.attr("data-value");if(t){t=U.time(t);if(t.isValid){if(!x(t,"设置时间"))return;y=t.clone(),T=t.clone();for(let e=0;e<s.length;e++){var n,a=s[e].name,i={value:y.get(a)};"hours"===a&&(i.value=parseInt(i.value/o)*o),"minutes"===a&&(i.value=parseInt(i.value/l)*l),"seconds"===a&&(i.value=parseInt(i.value/r)*r),"date"==a&&(n=y.getMonthLength(),i.options=L("date",1,n+1,1),g=n),D.resetColumn(a,i)}}}f=e,d=e.attr("data-format")||d,c=e.attr("data-columns")?e.attr("data-columns").split("-"):c,M(),D.show()}),n.onConfirm&&(e.onConfirm=function(){y=T.clone(),n.onConfirm({time:T.data.time,format:d,formatDate:T.format(d),target:f})}),n.onAsyncConfirm&&(e.onAsyncConfirm=function(e,t){n.onAsyncConfirm({time:T.data.time,format:d,formatDate:T.format(d),target:f},e=>{e&&(y=T.clone()),t(e)})});let D=new U.cascader(e);return D.resetMinTime=function(e){C=w(e)},D.resetMaxTime=function(e){b=w(e)},M(),D}function d(v){let y=this,T=v.containerId?document.getElementById(v.containerId):null;if(T){let g=T.getElementsByClassName("eui-swiper-item");if(g&&0!=g.length){let f=g.length;if(1===g.length)g[0].style.cssText="transform: translateX(0)";else{2===g.length&&(T.innerHTML+=T.innerHTML,g=T.getElementsByClassName("eui-swiper-item"));let n=v.index||0,a=0,i=0,s=-1,o=(v.direction||"x").toUpperCase()||"X",e=v.space||3e3,l=g.length-1,r="X"===o?T.offsetWidth:T.offsetHeight,c=[],d,u,m="page"+o,t=!1!==v.autoPlay;var w="eui-swiper-indicator-dot-"+(v.position||("X"===o?"bottom":"right"));let p=!1!==v.seamless,h=[p?g[n-1<0?l:n-1]:{},g[n],g[n+1>l?0:n+1]];if("Y"===o&&T.classList.add("directionY"),L(h[0].style,`translateZ(0) translate${o}(-${r}px)`),L(h[1].style,`translateZ(0) translate${o}(0)`),L(h[2].style,`translateZ(0) translate${o}(${r}px)`),!1!==v.indicatorShow){for(var C="",b=0;b<f;b++)C+='<span class="eui-swiper-indicator-item"></span>';w=R.createDom({tag:"div",className:"eui-swiper-indicator-dot "+w,innerHTML:C});T.appendChild(w),(c=T.getElementsByClassName("eui-swiper-indicator-item"))[n].classList.add("eui-swiper-indicator-item-active")}function L(e,t,n){e&&(n&&(e.webkitTransition=n,e.transition=n),e.webkitTransform=t,e.transform=t)}function x(){!1!==t&&(u=setInterval(function(){k()},e))}function k(){var e=n;if(++n>l&&!p){n=l;for(var t=0;t<3;t++)h[t]&&L(h[t].style,`translateZ(0) translate${o}(${(t-1)*r}px)`,"all .3s")}else{N(e,n=n>l?0:n),h.shift();e=g[n+1>l?0:n+1];L(e.style,`translateZ(0) translate${o}(${r}px)`,"all 0s"),h.push(n>=l&&!p?{}:e),L(h[0].style,`translateZ(0) translate${o}(-${r}px)`,"all .3s"),L(h[1].style,`translateZ(0) translate${o}(0)`,"all .3s")}}function N(e,t){v.swipeend&&v.swipeend({index:t%f,node:g[t%f],count:f}),d&&(d.innerHTML=v.indicatorRender({index:t%f,node:g[t%f],count:f})),c[e%f]&&c[e%f].classList.remove("eui-swiper-indicator-item-active"),c[t%f]&&c[t%f].classList.add("eui-swiper-indicator-item-active")}v.indicatorRender&&(d=R.createDom({tag:"div",className:"eui-swiper-indicator-dot-custom",innerHTML:v.indicatorRender({index:n,count:f,node:g[n%f]})}),T.appendChild(d)),T.addEventListener("touchstart",function(e){clearInterval(u),clearTimeout(u);for(var t=0;t<3;t++)L(h[t].style,`translateZ(0) translate${o}(${(t-1)*r}px)`,"all 0s");a=e.touches[0]}),T.addEventListener("touchmove",function(e){if((!0===s||-1===s&&"Y"===o)&&(e.stopPropagation(),e.preventDefault()),i=e.touches[0],!0===s)for(var t=i[m]-a[m],n=0;n<3;n++)L(h[n].style,`translateZ(0) translate${o}(${(n-1)*r+t}px)`);-1===s&&(e=Math.abs(i.pageY-a.pageY)>Math.abs(i.pageX-a.pageX)?"Y":"X",s=e==o)}),T.addEventListener("touchend",function(e){if(s&&e.stopPropagation(),u=setTimeout(()=>{x()},300),!i||!i.pageX)return!1;if(i[m]-a[m]<=-r/10)k();else if(i[m]-a[m]>=r/10){e=n;if(--n<0&&!p){for(var t=n=0;t<3;t++)h[t]&&L(h[t].style,`translateZ(0) translate${o}(${(t-1)*r}px)`,"all .3s");return}N(e,n=n<0?l:n),h.pop();e=g[n-1<0?l:n-1];L(e.style,`translateZ(0) translate${o}(-${r}px)`,"all 0s"),h.unshift(n<=0&&!p?{}:e),L(h[1].style,`translateZ(0) translate${o}(0)`,"all .3s"),L(h[2].style,`translateZ(0) translate${o}(${r}px)`,"all .3s")}else for(t=0;t<3;t++)L(h[t].style,`translateZ(0) translate${o}(${(t-1)*r}px)`,"all 0.3s");s=-1,a=null,i=null}),x(),this.stopAutoPlay=function(e){e||(t=!1),clearTimeout(u),clearInterval(u)},this.startAutoPlay=function(e){e||(t=!0),x()},this.swipeNext=function(){this.stopAutoPlay(!0),k(),setTimeout(()=>{y.startAutoPlay(!0)},320)},this.swipeTo=function(e){e>l?console.warn("指定跳转内容不存在"):e!=n&&(this.stopAutoPlay(!0),h[2]=g[e>=l?0:e],L(h[2].style,`translateZ(0) translate${o}(${r}px)`,"all 0s"),n=e-1<0?l:e-1,setTimeout(()=>{k()},0),setTimeout(()=>{h[0]=g[n-1<0?l:n-1],L(h[0].style,`translateZ(0) translate${o}(-${r}px)`,"all 0s"),L(h[2].style,`translateZ(0) translate${o}(${r}px)`,"all 0s"),y.startAutoPlay(!0)},320))},this.destory=function(){this.startAutoPlay=this.stopAutoPlay=this.swipeTo=this.swipeNext=null,T.remove()}}}else console.warn("未设置容器切换元素 --\x3e",v)}else console.warn("未找到容器id --\x3e",v)}function u(t){const n=t.rangeBottom||240;this.stop=void 0===t.stop||t.stop;var e=t.timeSpace||200;const a=this,i=void 0===t.target;let s=t.target||document.body||document.documentElement,o=i?window.innerHeight:t.target.offsetHeight;function l(){var e=document.documentElement.scrollTop||document.body.scrollTop;(e=i?e:s.scrollTop)+o+n>s.scrollHeight&&!a.stop&&t.callback&&(a.stop=!0,t.callback(e,o))}this.scrollHander=T.throttle(function(){l()},e),i?(window.addEventListener("scroll",this.scrollHander,!1),this.unBindScroll=function(){window.removeEventListener("scroll",a.scrollHander,!1)}):(s.addEventListener("scroll",a.scrollHander,!1),this.unBindScroll=function(){s.removeEventListener("scroll",a.scrollHander,!1)}),this.toggleStop=function(e,t){a.stop=e,t&&l()}}function m(e){if(e&&e.elm){let t=this,a=e.elm,n=document.body||document.documentElement,i=null==e.edge?2:e.edge,s=a.getBoundingClientRect(),o={pageX:0,pageY:0},l={pageX:0,pageY:0},r=window.innerHeight,c=window.innerWidth;a.style.cssText="position:fixed; left:0; top:0; bottom:auto; right: auto;",a.style.webkitTransform="translateZ(0) translate("+s.left+"px,"+s.top+"px)",a.addEventListener("touchstart",function(e){a.style.webkitTransition="all 0s",o=e.targetTouches[0],n.addEventListener("touchmove",t.onTouchMove,{passive:!1}),n.addEventListener("touchend",t.onTouchEnd,{passive:!1}),e.preventDefault(),e.stopPropagation()},!1),this.onTouchMove=function(e){var t=e.targetTouches[0];a.style.webkitTransform="translateZ(0) translate("+(t.pageX-o.pageX+l.pageX)+"px,"+(t.pageY-o.pageY+l.pageY)+"px)",e.preventDefault(),e.stopPropagation()},this.onTouchEnd=function(e){n.removeEventListener("touchmove",t.onTouchMove),n.removeEventListener("touchend",t.onTouchEnd),t.reset(.2)},this.reset=function(e){a.style.webkitTransition=`all ${e||0}s`;var e=(s=a.getBoundingClientRect()).left+s.width/2,e=e<c/2?e:c-e,t=s.top+s.height/2,n=t<r/2?t:r-t,t=t<r/2?s.top:r-s.bottom;n<e&&t<40?(l.pageX=s.left<i?i:s.left+s.width+i>c?c-i-s.width:s.left,l.pageY=s.top+s.height/2<=r/2?i:r-i-s.height):(l.pageX=s.left+s.width/2<=c/2?i:c-i-s.width,l.pageY=s.top<i?i:s.top+s.height+i>r?r-i-s.height:s.top),a.style.webkitTransform="translateZ(0) translate("+l.pageX+"px,"+l.pageY+"px)"},this.reset()}else console.warn("悬浮对象不存在")}function p(n){n=U._cloneDeep(n);let a=this,i=n.containerId&&document.getElementById(n.containerId)?"page":"popup",V=null!=n.zIndex?n.zIndex:X.zIndex.picker,s=n.type||"date",o=n.format||"YYYY-MM-DD",l=n.minDate?checkTime(n.minDate):null,r=n.maxDate?checkTime(n.maxDate):null,c=n.defaultDate||null,d=n.lang||"ch",u=void 0!==n.rangeMaxLength&&n.rangeMaxLength<2?null:n.rangeMaxLength,m=void 0!==n.rangeMinLength&&n.rangeMinLength<1?null:n.rangeMinLength,p={},h=[],f=[],g=null!=n.required&&n.required,v=!1!==n.sundayFirst,y="eg"==d?X.timeTypes.weekdays.map(e=>e.substring(0,3)):X.timeTypes.weekdaysCh;function t(e){if(!e)return null;let t=U.time(e);return(t=t.isValid?U.time(t.format("YYYY/MM/DD")):null)||console.warn("时间格式有误，参数->",e),t}y=[...y],v||(x=y.shift(),y.push(x));let T,e,w,Y,O,C,b,L,A,z,P;var x=U.time();let k=x.clone(),N=x.getMonthLength();function W(n){if(c){if("date"==s){var e=U.time(c);e.isValid?(k=e.clone(),h=[e.format("YYYY-M-D")]):n&&console.warn("时间格式有误，参数->",c)}else if("multiple"==s){if("array"===R.getType(c)){let t=[];for(let e=0;e<c.length;e++){var a=U.time(c[e]);a.isValid?t.push(a):n&&console.warn("时间格式有误，参数->",c[e])}t.sort((e,t)=>e.data.milli-t.data.milli),t[0]&&(k=t[0].clone()),t=t.map(e=>e.format("YYYY-M-D")),h=t}}else if("array"==R.getType(c)&&2<=c.length){let e=c.map(e=>t(e));1<(e=e.filter(e=>e.isValid)).length&&(e.sort((e,t)=>e.data.milli-t.data.milli),k=e[0],h=Z(e[0].format("YYYY-M-D"),e[e.length-1].format("YYYY-M-D")))}else n&&console.warn("时间格式有误，必须为数组,且长度为2的有效时间格式，参数->",c);N=k.getMonthLength(),f=[...h]}}function j(){var e;"page"===i&&(n.bodyClassName=n.bodyClassName?"eui-calendar "+n.bodyClassName:"eui-calendar"),T=F._renderPickerIframe(n),e='<div class="eui-flex-aic-jcc eui-calendar-ym-arrow eui-calendar-ym-arrow-prev" data-type="month" data-action="prev"></div>',e=(e+=`<div class="eui-calendar-year eui-calendar-ym-item eui-flex"><span class="eui-calendar-ym-y">--</span><span class="eui-calendar-ym-o">${"eg"==d?"Year":"年"}</span><span class="eui-arr-d01"></span></div>`)+`<div class="eui-calendar-month eui-calendar-ym-item eui-flex"><span class="eui-calendar-ym-m">--</span><span class="eui-calendar-ym-o">${"eg"==d?"Month":"月"}</span><span class="eui-arr-d01"></span></div>`+'<div class="eui-flex-aic-jcc eui-calendar-ym-arrow eui-calendar-ym-arrow-next" data-type="month" data-action="next"></div>',e=R.createDom({tag:"div",className:"eui-calendar-ymline eui-flex",innerHTML:e}),T.node.appendChild(e),Y=e.getElementsByClassName("eui-calendar-ym-y")[0],O=e.getElementsByClassName("eui-calendar-ym-m")[0],A=e.getElementsByClassName("eui-calendar-year")[0],z=e.getElementsByClassName("eui-calendar-month")[0],P=e.getElementsByClassName("eui-calendar-ym-arrow");{let t="";for(let e=0;e<y.length;e++)t+=`<div class="eui-calendar-wkitem">${y[e]}</div>`;T.node.appendChild(R.createDom({tag:"div",className:"eui-calendar-weeks eui-flex",innerHTML:t}))}C=R.createDom({tag:"div",className:"eui-calendar-dlist"}),T.node.appendChild(C),C.addEventListener("click",function(t){t=R.getNodeByClassName(t.target,"eui-calendar-ditem");if(t){t=E(t);let a=p[t.timestr],e=!0;(e=n.onDateClick?n.onDateClick(t.timestr,n.mark):e)&&S({type:"date",value:t.date,checkType:"date",month:t.month-1}).then(e=>{var t,n=a;"date"==s?n.timestr!==h[0]&&((t=C.getElementsByClassName("active")[0])&&B(t,!1,{className:"active"}),h=[n.timestr],B(n.node,!0,{className:"active"}),e.data.month!==k.data.month)&&(k.set(e.data.month,"month"),N=k.getMonthLength(),D()):"multiple"==s?(t=h.indexOf(n.timestr),B(n.node,!(-1<t),{className:"active"}),-1<t?h.splice(h.indexOf(n.timestr),1):h.push(n.timestr)):"range"==s&&((1<h.length||0==h.length)&&(h=[n.timestr],_(),H(h.length)),1==h.length)&&h[0]!=n.timestr&&(e=Z(h[0],n.timestr),u&&u<e.length?U.toast({message:`所选时间段不可超过${u}天`}):m&&e.length<m?U.toast({message:`所选时间段不可短于${m}天`}):(h=e,_(),H(h.length)))})}}),D();{b=R.createDom({tag:"div",className:"eui-calendar-year-warp eui-flex"}),R.bindEvent(b,["addClass","removeClass","show","hide"]),T.node.appendChild(b);let t="";for(let e=1;e<=12;e++)t+=`<div class="eui-calendar-month-item eui-cm${e-1}" data-month="${e-1}">${e}${"eg"==d?"Month":"月"}</div>`;L=R.createDom({tag:"div",className:"eui-calendar-year-warp eui-flex",innerHTML:t}),R.bindEvent(L,["addClass","removeClass","show","hide"]),T.node.appendChild(L),A.addEventListener("click",function(){var t=k.get("year")-7;let n="";for(let e=t;e<=14+t;e++)n+=`<div class="eui-calendar-year-item ${e===k.data.year?"active":""}" data-year="${e}">${e}</div>`;b.innerHTML=n,b.show(0,!0).removeClass("eui-cal-hide").addClass("eui-cal-open")}),b.addEventListener("click",function(e){e=R.getNodeByClassName(e.target,"eui-calendar-year-item");if(e){let t=E(e);S({type:"year",value:t.year,checkType:"year"}).then(e=>{b.hide(300).removeClass("eui-cal-open").addClass("eui-cal-hide"),e.data.year!=k.data.year&&(k.set(t.year,"year"),N=k.getMonthLength(),D(),I())})}}),R.bindTrigger(P,"click",t=>{S({time:k.clone().shifting("month","prev"===t.getAttribute("data-action")?-1:1),checkType:"month"}).then(e=>{k.shifting("month","prev"===t.getAttribute("data-action")?-1:1),N=k.getMonthLength(),D(),I()})}),z.addEventListener("click",function(){L.show(0,!0).removeClass("eui-cal-hide").addClass("eui-cal-open")}),L.addEventListener("click",function(e){e=R.getNodeByClassName(e.target,"eui-calendar-month-item");if(e){let t=E(e);S({type:"month",value:t.month,checkType:"month"}).then(e=>{L.hide(300).removeClass("eui-cal-open").addClass("eui-cal-hide"),e.data.month!=k.data.month&&(k.set(t.month,"month"),N=k.getMonthLength(),D(),I())})}}),I()}}function M(t){let n="";for(let e=t.start;e<=t.end;e++)n+=`<div class="eui-calendar-ditem ${t.className||""}" data-year="${t.year}" data-month="${t.month+1}" data-date="${e}">${e}</div>`;return n}function D(){Y.innerHTML=k.get("year"),O.innerHTML=k.get("month")+1;let e="",t=k.set(1,"date").get("day");v||(t=0===t?6:t-1);var n=k.clone().set(k.get("month")-1,"month"),a=n.getMonthLength();e=(e+=M({start:a-t+1,end:a,year:n.data.year,month:n.data.month,className:"disabled"}))+M({start:1,end:N,year:k.data.year,month:k.data.month,className:""});let i=n.set(n.get("month")+2,"month").get("day");(i=v?7-i:1===i?0:8-i)<7&&(e+=M({start:1,end:i,year:n.data.year,month:n.data.month,className:"disabled"})),e+=`<div class="eui-calendar-mbg eui-flex">${k.get("month")+1}</div>`,C.innerHTML=e;var s=C.getElementsByClassName("eui-calendar-ditem");p={};for(let e=0;e<s.length;e++){var o=parseInt(s[e].getAttribute("data-year")),l=parseInt(s[e].getAttribute("data-month")),r=parseInt(s[e].getAttribute("data-date"));p[o+"-"+l+"-"+r]={node:s[e],year:o,month:l,date:r,timestr:o+"-"+l+"-"+r}}_()}function I(){let e=L.getElementsByClassName("eui-calendar-month-item active")[0];e&&e.classList.remove("active"),(e=L.getElementsByClassName("eui-calendar-month-item eui-cm"+k.data.month)[0])&&e.classList.add("active")}function E(e){var t={},n=parseInt(e.getAttribute("data-year")||0),a=parseInt(e.getAttribute("data-month")||0),e=parseInt(e.getAttribute("data-date")||0);return t.year=n,t.month=a,t.date=e,t.timestr=n+"-"+a+"-"+e,t}function S(a){return new Promise(e=>{let t=a.time,n=(a.time||(t=k.clone(),"date"===a.checkType&&t.set(a.month,"month"),t.set(a.value,a.type)),!0);-1<["year","month"].indexOf(a.checkType)?(l&&12*t.data.year+t.data.month<12*l.data.year+l.data.month&&(n=!1,U.toast({message:"所选时间不应小于"+l.format("YYYY年MM月")})),r&&12*t.data.year+t.data.month>12*r.data.year+r.data.month&&(n=!1,U.toast({message:"所选时间不应大于"+r.format("YYYY年MM月")}))):l&&t.data.milli<l.data.milli?(n=!1,U.toast({message:"所选时间应大于"+l.format("YYYY-MM-DD")})):r&&t.data.milli>r.data.milli&&(n=!1,U.toast({message:"所选时间应小于"+r.format("YYYY-MM-DD")})),n&&e(t)})}function _(){var e,t=h.length,n="range"==s?{className:"range-active"}:{className:"active"};for(e in p)B(p[e].node,-1<h.indexOf(e),n),"range"==s&&H(t)}function B(e,t,n){t?e.classList.add(n.className):R.setClass(e,[["remove",n.className],["remove","range-active-first","range"==s],["remove","range-active-end","range"==s]])}function Z(e,t){for(var n=[U.time(e),U.time(t)].sort((e,t)=>e.data.milli-t.data.milli),a=[];n[0].data.milli<=n[1].data.milli;)a.push(n[0].format("YYYY-M-D")),n[0].set(n[0].get("date")+1,"date");return a}function H(e){h.length&&(p[h[0]]&&R.setClass(p[h[0]].node,[["add","range-active-first"],["remove","range-active-end",1<h.length]]),p[h[e-1]])&&R.setClass(p[h[e-1]].node,[["add","range-active-end"],["remove","range-active-first",1<h.length]])}function $(){j(),q(),w=Eui.popup({closeOnMask:n.closeOnMask,onOpen:n.onOpen,maskTransparent:n.maskTransparent,contentClassName:n.contentClassName,round:n.round,position:"bottom",onClose:n.onClose,insetDom:T.node,zIndex:V,className:"eui-calendar "+(n.className||"")})}function q(){T.callback=function(e,t){if("pophide"==e)w&&w.hide();else{if("getvalue"==e)return a.getValue();"setvalue"==e?f=U._cloneDeep(h):"clear"==e&&(g?U.toast({message:"必选项，不可清除",type:"warn"}):n.onClear?n.onClear(e=>{e&&w&&w.hide()}):(h=[],D()))}}}W(!0),"page"==i?(e=document.getElementById(n.containerId),j(),q(),e.appendChild(T.node)):n.trigger&&R.bindTrigger(n.trigger,"click",e=>{a.show()}),this.setWaiting=function(e){w||"popup"!=i||$(),T.setWaiting(e)},this.resetTitle=function(e){w||"popup"!=i||$(),T.resetTitle(e)},this.resetButton=function(e){w||"popup"!=i||$(),T.resetButton(e)},this.getValue=function(){w||"popup"!=i||$();let e=g?void 0:null;var t;if("date"==s)h[0]?(t=U.time(h[0]),e={time:t.date,format:t.format(o)}):g&&U.toast({message:"请选择日期"});else if("multiple"==s){if(g&&0==h.length)return U.toast({message:"请选择日期"}),e;var n=[];for(let e=0;e<h.length;e++){var a=U.time(h[e]);n.push({time:a.date,format:a.format(o)})}e=n}else if("range"==s)return g&&h.length<2?(U.toast({message:"请选择日期"}),e):h.length<2?[]:[h[0],h[h.length-1]].map(e=>({time:U.time(e),format:U.time(e).format(o)}));return e},this.show=function(){w||"popup"!=i||$(),h=U._cloneDeep(f),D(),w.show()},this.resetMinDate=function(e){l=null===e?null:t(e)},this.resetMaxDate=function(e){r=null===e?null:t(e)},this.setRequired=function(e){g=!!e},this.resetDefaultDate=function(e){w||"popup"!=i||$(),c=e,h=[],f=[],W(),D(),I()},this.destory=function(){this.setLoading=this.resetTitle=this.resetButton=this.getValue=this.show=this.resetMinDate=this.resetMaxTime=this.resetDefaultDate=this.renderDate=null},this.renderDate=function(t,n){if(w||"popup"!=i||$(),"array"==R.getType(n))for(let e=0;e<n.length;e++){var a=U.time(n[e]);a.isValid&&(a=`${a.data.year}-${a.data.month}-`+a.data.date,R.append(p[a].node,t(p[a])||p[a].date,!0))}else for(var e in p)R.append(p[e].node,t(p[e])||p[e].date,!0)}}function h(N){N=U._cloneDeep(N);let M=this;if(N.onLoadData||N.data&&0!=N.data.length){let i=N.onLoadData,s=!N.onLoadData&&N.data||[],n=N.containerId&&document.getElementById(N.containerId)?"page":"popup",e=null!=N.zIndex?N.zIndex:X.zIndex.picker,o=N.fieldValueName||"id",l=N.fieldLabelName||"name",r=N.fieldChildrenName||"children",a=!0===N.multiple,c=!0===N.required,d,t,u,m,p,h,f,g,v,y,T={},w={},C=0,b=[],L=[R.createDom({tag:"div",className:"eui-cascader-dmp-pathitem active",innerHTML:N.rootLabel||"根目录",attr:{"data-index":0,"data-key":""}})],x={},k={};function D(t,n,a=!1){for(let e=0;e<t.length;e++)t[e]._pid=n,t[e]._loaded=!a,t[e]._id=t[e][o],t[e]._name=t[e][l],t[e][r]&&i&&(t[e]._children=[]),k[t[e][o]]=t[e],t[e][r]&&t[e][r].length&&D(t[e][r],t[e][o])}function I(){"page"===n&&(N.bodyClassName=N.bodyClassName?"eui-cascader-page "+N.bodyClassName:"eui-cascader-page"),d=F._renderPickerIframe(N),u=R.createDom({tag:"div",className:"eui-cascader-toppath eui-flex",innerHTML:L[0]}),m=R.createDom({tag:"div",className:"eui-cascader-midwarp"}),p=R.createDom({tag:"div",className:"eui-cascader-botwarp",style:{display:"none"}}),f=R.createDom({tag:"div",className:"eui-cascader-botwarpbtn",innerHTML:'<span class="eui-cascader-dmp-ao">点击查看已选</span>(<span class="eui-cascader-dmp-num">0</span>)<div></div>'}),g=R.createDom({tag:"div",className:"eui-cascader-botwarplist"}),p.appendChild(f),p.appendChild(g),d.node.append(u).append(m).append(p),v=f.getElementsByClassName("eui-cascader-dmp-ao")[0],y=f.getElementsByClassName("eui-cascader-dmp-num")[0],E();for(let e=0;e<8;e++){var t=R.createDom({tag:"div",className:"eui-cascader-dmpwarp eui-cascader-dmp-right"});R.bindEvent(t,["html","addClass","removeClass","attr","append"]),b.push(t),m.appendChild(t)}u.addEventListener("click",function(e){e=R.getNodeByClassName(e.target,"eui-cascader-dmp-pathitem");if(e){var t=parseInt(e.getAttribute("data-index"));if(t!=C){for(let e=0;e<b.length;e++)e==t?b[e].attr("class","eui-cascader-dmpwarp eui-cascader-dmp-ani eui-cascader-dmp-center"):e==C?b[e].attr("class","eui-cascader-dmpwarp eui-cascader-dmp-ani "+(t>C?"eui-cascader-dmp-left":"eui-cascader-dmp-right")):b[e].attr("class","eui-cascader-dmpwarp "+(t>e?"eui-cascader-dmp-left":"eui-cascader-dmp-right"));L[t].classList.add("active"),L[C].classList.remove("active"),C=t}}}),m.addEventListener("click",function(e){var t,e=R.getNodeByClassName(e.target,"eui-cascader-dmp-item");e&&((e=k[e.getAttribute("data-key")])[r]?(L.splice(C+1),L.push(R.createDom({tag:"div",className:"eui-cascader-dmp-pathitem active",innerHTML:e._name,attr:{"data-index":C+1,"data-key":e._id}})),b[C].attr("class","eui-cascader-dmpwarp eui-cascader-dmp-ani eui-cascader-dmp-left"),B(e._id,C+1,"eui-cascader-dmp-center eui-cascader-dmp-ani"),C++,u.innerHTML="",L.forEach((e,t)=>{e.classList[C===t?"add":"remove"]("active"),u.appendChild(e)})):a?((t=w[e._id])?delete w[e._id]:w[e._id]=e._name,e._node.classList[t?"remove":"add"]("active"),H()):((w={})[e._id]=e._name,d.confirm()))}),f.addEventListener("click",function(){var e=p.classList.contains("eui-cascader-dmp-open");p.classList[e?"remove":"add"]("eui-cascader-dmp-open"),v.innerHTML=e?"点击查看已选":"点击关闭已选"}),g.addEventListener("click",function(e){var e=R.getNodeByClassName(e.target,"eui-cascader-botwrapitem");e&&(e=e.getAttribute("data-key"),delete w[e],k[e]&&k[e]._node&&k[e]._node.classList.remove("active"),H())})}function E(){d&&(d.resetButton({showBtn:!!a}),p.style.display=a?"flex":"none",a?d.node.addClass("eui-cascader-multiple"):d.node.removeClass("eui-cascader-multiple"))}function S(){I(),_(),h=Eui.popup({closeOnMask:N.closeOnMask,onOpen:N.onOpen,maskTransparent:N.maskTransparent,contentClassName:N.contentClassName,round:N.round,onClose:N.onClose,insetDom:d.node,zIndex:e,className:"eui-picker eui-cascader "+(N.className||""),position:"bottom"}),B(void 0,0,"eui-cascader-dmp-center")}function _(){d.callback=function(e,t){if("pophide"==e)h&&h.hide();else{if("getvalue"==e)return M.getValue();"setvalue"==e?T={...w}:"clear"==e&&(c?U.toast({message:"必选不可清除"}):(Object.keys(w).forEach(e=>{k[e]&&k[e]._node&&k[e]._node.classList.remove("active")}),w={},H()))}}}function B(n,t,e){function a(e){0===e.length?b[t].innerHTML=`<div class="eui-cascader-dmp-item-empty">${N.emptyString||"暂无选项数据"}<div>`:(b[t].innerHTML="",e.forEach(e=>{k[e[o]]._node||(k[e[o]]._node=R.createDom({tag:"div",className:`eui-cascader-dmp-item ${w[e[o]]?"active":""} `+("array"===R.getType(e[r])?"eui-cascader-dmp-haschild":""),innerHTML:e[l],attr:{"data-key":e[o]}})),b[t].append(k[e[o]]._node)}))}b[t].attr("class","eui-cascader-dmpwarp "+(e||"")).innerHTML="",i?k[n]&&k[n]._loaded?a(k[n][r]):(d.setWaiting(!0),i(n,k[n]).then(e=>{if(D(e,n,!0),n){let t=k[n]._children;e.forEach(e=>{t.push(e[o]),k[n][r].push(e)})}a(e),$(),n&&(k[n]._loaded=!0),d.setWaiting(!1)})):a(void 0===n?s:k[n][r])}function H(){let e=0,t="";for(var n in w)e++,t+=`<div class="eui-cascader-botwrapitem" data-key="${n}">${w[n]}</div>`;g.innerHTML=t,y.innerHTML=e}function $(){Object.keys(T).forEach(e=>{T[e]=(k[e]||x[e])[l]}),Object.keys(w).forEach(e=>{w[e]=(k[e]||x[e])[l]}),H()}function V(e){h||"popup"!=n||S(),Object.keys(w).forEach(e=>{k[e]&&k[e]._node&&k[e]._node.classList.remove("active")}),T={},e.forEach(e=>{e="object"==R.getType(e)?{...e}:{[o]:e,[l]:e};x[e[o]]=e,T[e[o]]=e[l]}),w={...T}}!N.onLoadData&&N.data&&N.data.length&&D(s,null),a&&N.defaultValue&&N.defaultValue.length&&V(N.defaultValue),"page"==n?(t=document.getElementById(N.containerId),I(),_(),t.appendChild(d.node),a&&$(),B(void 0,0,"eui-cascader-dmp-center")):N.trigger&&R.bindTrigger(N.trigger,"click",()=>{M.show()}),this.setWaiting=function(e){h||"popup"!=n||S(),d.setWaiting(e)},this.resetTitle=function(e){h||"popup"!=n||S(),d.resetTitle(e)},this.resetButton=function(e){h||"popup"!=n||S(),d&&d.resetButton(e)},this.setRequired=function(e){c=!!e},this.getValue=function(){var e,t=[],n=[];for(e in w)t.push((k[e]||x[e])[o]),n.push(k[e]||x[e]);if(!c||0!==t.length)return a?{values:t,nodes:n}:{value:t[0],node:n[0]};U.toast({message:"请选择数据"})},this.setValues=function(e){V(e),$()},this.setMultiple=function(e){a=e,E()},this.show=function(){h||"popup"!=n||S(),Object.keys(w).forEach(e=>{k[e]&&k[e]._node&&k[e]._node.classList.remove("active")}),w={...T},Object.keys(w).forEach(e=>{k[e]&&k[e]._node&&k[e]._node.classList.add("active")}),a&&$(),h.show()},this.distory=function(){this.value=null,this.tempValue=null,this.setLoading=this.resetTitle=this.resetButton=this.resetPicker=this.getValue=this.show=null,h.remove()}}else console.warn("未设置选择数据，参数->",N)}const X={timeTypes:{year:{get:"getFullYear",set:"setFullYear"},month:{get:"getMonth",set:"setMonth"},date:{get:"getDate",set:"setDate"},hours:{get:"getHours",set:"setHours"},minutes:{get:"getMinutes",set:"setMinutes"},seconds:{get:"getSeconds",set:"setSeconds"},milliseconds:{get:"getMilliseconds",set:"setMilliseconds"},time:{get:"getTime",set:"setTime"},day:{get:"getDay",set:""},weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysCh:"日_一_二_三_四_五_六".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsCh:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_")},timeAction:{YYYY:function(e){return e[X.timeTypes.year.get]()},YY:function(e){return e[X.timeTypes.year.get]().toString().substr(2)},M:function(e){return e[X.timeTypes.month.get]()+1},MM:function(e){return R.valueShort(e[X.timeTypes.month.get]()+1,2)},MMM:function(e){return X.timeTypes.months[e[X.timeTypes.month.get]()].substr(0,3)},MMMM:function(e){return X.timeTypes.months[e[X.timeTypes.month.get]()]},D:function(e){return e[X.timeTypes.date.get]()},DD:function(e){return R.valueShort(e[X.timeTypes.date.get](),2)},H:function(e){return e[X.timeTypes.hours.get]()},HH:function(e){return R.valueShort(e[X.timeTypes.hours.get](),2)},h:function(e){return e[X.timeTypes.hours.get]()%12},hh:function(e){return R.valueShort(e[X.timeTypes.hours.get]()%12,2)},a:function(e){return 12<e[X.timeTypes.hours.get]()?"pm":"am"},A:function(e){return 12<e[X.timeTypes.hours.get]()?"PM":"AM"},aC:function(e){return 12<e[X.timeTypes.hours.get]()?"下午":"上午"},m:function(e){return e[X.timeTypes.minutes.get]()},mm:function(e){return R.valueShort(e[X.timeTypes.minutes.get](),2)},s:function(e){return e[X.timeTypes.seconds.get]()},ss:function(e){return R.valueShort(e[X.timeTypes.seconds.get](),2)},SSS:function(e){return e[X.timeTypes.milliseconds.get]()},w:function(e){return X.timeTypes.weekdays[e[X.timeTypes.day.get]()].substr(0,3)},ww:function(e){return X.timeTypes.weekdays[e[X.timeTypes.day.get]()]},wC:function(e){return X.timeTypes.weekdaysCh[e[X.timeTypes.day.get]()]}},cloneLiteralType:["string","number","null","undefined","boolean","function","htmldivelement","htmlcollection","htmlspanelement"],zIndex:{popup:9e3,toast:9999,actionSheet:9100,dialog:9900,picker:9800}},f={isInit:!1,data:{},setItem:function(e,t,n){f.data[e]={data:t,expire:n||0},localStorage.setItem("EUILOCAL",JSON.stringify(f.data))},getItem:function(e){return f.isInit||(f.data=JSON.parse(localStorage.getItem("EUILOCAL")||"{}"),f.isInit=!0),!f.data[e]&&f.data[e].expire<(new Date).getTime()?null:f.data[e].data},removeItem:function(e){delete f.data[e],localStorage.setItem("EUILOCAL",JSON.stringify(f.data))}},g={addClass:function(e){return this.classList.add(e),this},removeClass:function(e){return this.classList.remove(e),this},hasClass:function(e){return this.classList.contains(e)},show:function(e,t){let n=this;return setTimeout(function(){n.style.display=t?"flex":"block"},e||0),this},hide:function(e){let t=this;return setTimeout(function(){t.style.display="none"},e||0),this},toggle:function(e,t){let n=this;return setTimeout(function(){n.style.display="none"==n.style.display?t?"flex":"block":"none"},e||0),this},css:function(e){for(var t in e)this.style[t]=e[t];return this},html:function(e){return this.innerHTML="",R.setInnerHtml(this,e),this},attr:function(e,t){return t?(this.setAttribute(e,t),this):this.getAttribute(e)},append:function(e){var t=R.getType(e);return-1<["string","number"].indexOf(t)&&(e=R.createNode(e)),this.appendChild(e),this}},R={createDom:function(e){e.innerHTML=e.innerHTML||"";var t,n,a=document.createElement(e.tag);for(t in a.className=e.className,R.setInnerHtml(a,e.innerHTML),e.style||{})a.style[t]=e.style[t];for(n in e.attr||{})a.setAttribute(n,e.attr[n]);return a},getType:function(e){return Object.prototype.toString.call(e).toLowerCase().replace(/\[\w+\s(\w+)\]/,"$1")},checkType:function(e,t){e=R.getType(e);return e==t||-1<t.indexOf(e)},bindEvent:function(t,n){for(let e=0;e<n.length;e++)t[n[e]]=g[n[e]]},bindTrigger:function(t,n,a){if(t&&null==t.length)R.bindEvent(t,["attr"]),t.addEventListener(n,function(){a(t)});else if(t&&t.length)for(let e=0;e<t.length;e++)R.bindEvent(t[e],["attr"]),t[e].addEventListener(n,function(){a(t[e])})},valueShort:function(e,t){return(e=e.toString()).length>=t?e:new Array(t-e.length+1).join("0")+e},setInnerHtml:function(e,t){var n=R.getType(t);"string"===n||"number"==n?e.innerHTML=t:e.appendChild(t)},createNode:function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild},getNodeByClassName(e,t){return e.classList.contains(t)?e:e.parentElement?R.getNodeByClassName(e.parentElement,t):null},setClass(t,n){for(let e=0;e<n.length;e++)t.classList[n[e][0]](!1===n[e][2]?"e-e":n[e][1]);return t},setStyles(t,n,e,a){var i=R.getType(n);if("string"==i)t.style[n]=!1===a?"":e;else if("array"==i)for(let e=0;e<n.length;e++)t.style[n[e][0]]=!1===n[e][2]?"":n[e][1];return t},append(e,t,n){var a;t&&(a=R.getType(t),-1<["string","number"].indexOf(a)&&(t=R.createNode(t)),n&&(e.innerHTML=""),e.appendChild(t))},stopBodyScroll(e){let t=window.pageYOffset||document.documentElement.scrollTop;if(e){if(document.body.classList.contains("eui-body-no-scroll"))return void(e.can=!1);e.can=!0}f.setItem("eui-scrolltop",t),document.body.classList.add("eui-body-no-scroll"),document.body.style.top=`-${t}px`,window.scrollTo(0,t),setTimeout(()=>{window.scrollTo(0,t)},100)},resetBodyScroll(e){e&&!1===e.can||(e=f.getItem("eui-scrolltop"),document.body.classList.remove("eui-body-no-scroll"),document.body.style.removeProperty("top"),window.scrollTo(0,e))},resetSelecterOptioins(e){let t=[];return("array"===R.getType(e)?e:[]).forEach(e=>{"object"===R.getType(e)?t.push(e):t.push({id:e,name:e})}),t}},y="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),T={cloneDeep:function(e){var t=R.getType(e);if(-1<X.cloneLiteralType.indexOf(t))return e;if("date"==t)return new Date(e.getTime());if("array"!=t&&"object"!=t)throw console.warn("unknow type of this data",e,t),new Error("Unable to clone obj! Its type isn't supported.");var n,a="array"==t?[]:{};for(n in e)a[n]=T.cloneDeep(e[n]);return a},getType:function(e){return R.getType(e)},checkType:function(e,t){return R.checkType(e,t)},throttle:function(e,t,n){function a(){e(s),setTimeout(function(){i=null},n)}var i,s;n=n||0;return function(e){s=e,i=i||setTimeout(a,t)}},debounce:function(n,a){function i(){var e=(new Date).getTime(),t=e-o;o=e,t<a&&0<t?s=setTimeout(i,a):(s=null,n(l))}var s,o,l;return function(e){l=e,o=(new Date).getTime(),s=s||setTimeout(i,a)}},uuid:function(e){return e=e||5,Math.ceil(Math.random()*Math.pow(10,e))},getRandomKey:function(e){var t=e||10,n=[];for(let e=0;e<t;e+=1)n.push(y[Math.floor(62*Math.random())]);return n.join("")},createPromise:function(){let n=null,a=null;return{promise:new Promise((e,t)=>{n=e,a=t}),resolve:n,reject:a}}},F={_emptyValues:[void 0,null,""],_renderPickerIframe:function(e){let n={},t=null==e.showBtn||e.showBtn,a="clear"===e.cancelBtnType?"clear":"normal",i=!1!==e.showCancelBtn,s=-1<F._emptyValues.indexOf(e.title)?"":e.title;var o=-1<F._emptyValues.indexOf(e.cancelBtnText)?"clear"===a?"清除":"取消":e.cancelBtnText,l=e.cancelBtnStyles||{},r=-1<F._emptyValues.indexOf(e.confirmBtnText)?"确认":e.confirmBtnText,c=e.confirmBtnStyles||{};!1===i&&(l.display="none");let d=R.createDom({tag:"div",className:"eui-popup-topline eui-flex "+(t||s?"":"eui-popup-topline-hide")}),u=R.createDom({tag:"div",className:"eui-popup-topline-title ellipsis",innerHTML:s}),m=R.createDom({tag:"div",className:"eui-popup-topline-btn eui-popup-topline-btn-cancel",innerHTML:o,style:l}),p=R.createDom({tag:"div",className:"eui-popup-topline-btn eui-popup-topline-btn-confirm",innerHTML:r,style:c}),h=(d.appendChild(m),d.appendChild(u),d.appendChild(p),n.node=R.createDom({tag:"div",className:"eui-pack "+(e.bodyClassName||""),innerHTML:d}),R.createDom({tag:"div",className:"eui-page-loading",innerHTML:"<div></div><div></div><div></div><div></div><div></div><div></div><div></div>"})),f=(n.node.appendChild(h),!1);return R.bindEvent(m,["css","html"]),R.bindEvent(p,["css","html"]),R.bindEvent(u,["html"]),R.bindEvent(n.node,["append","addClass","removeClass"]),m.addEventListener("click",function(){f||(f=!0,"clear"===a?(n.callback("clear"),f=!1):e.onAsyncCancel?(n.setWaiting(!0),e.onAsyncCancel(e=>{f=!1,n.setWaiting(!1),e&&n.callback("pophide")},e.mark)):(f=!1,e.onCancel&&e.onCancel(e.mark),n.callback("pophide")))}),p.addEventListener("click",function(){if(!f){let t=n.callback("getvalue");void 0!==t&&(f=!0,e.onAsyncConfirm?(n.setWaiting(!0),e.onAsyncConfirm(t,e=>{f=!1,n.setWaiting(!1),e&&(n.callback("setvalue",t),n.callback("pophide"))},e.mark)):(f=!1,n.callback("setvalue",t),e.onConfirm&&e.onConfirm(t,e.mark),n.callback("pophide")))}}),n.setWaiting=function(e){h.classList[e?"add":"remove"]("eui-fadeIn"),h.classList[e?"remove":"add"]("eui-fadeOut")},n.resetTitle=function(e){s=-1<F._emptyValues.indexOf(e)?"":e,u.html(s),d.classList[t||s?"remove":"add"]("eui-popup-topline-hide")},n.resetButton=function(e){t=null!=e.showBtn?e.showBtn:t,i=void 0!==e.showCancelBtn?!!e.showCancelBtn:i,void 0!==e.cancelBtnType&&(a="clear"===e.cancelBtnType?"clear":"normal"),d.classList[t||s?"remove":"add"]("eui-popup-topline-hide"),m.css({display:t&&i?"block":"none"}),p.css({display:t?"block":"none"}),void 0!==e.cancelBtnText&&m.html(-1<F._emptyValues.indexOf(e.cancelBtnText)?"":e.cancelBtnText),"object"===R.getType(e.cancelBtnStyles)&&m.css(e.cancelBtnStyles),void 0!==e.confirmBtnText&&p.html(-1<F._emptyValues.indexOf(e.confirmBtnText)?"":e.confirmBtnText),"object"===R.getType(e.confirmBtnStyles)&&p.css(e.confirmBtnStyles)},n.confirm=function(){p.click()},n}};s.prototype={test:function(){return console.log(this,this.namne),this.namne},initStr:function(e){return"string"==R.getType(e)?e.replace(/-/g,"/"):e},fixedInfo:function(){this.isValid?(this.data.year=this.get("year"),this.data.month=this.get("month"),this.data.date=this.get("date"),this.data.hours=this.get("hours"),this.data.minutes=this.get("minutes"),this.data.seconds=this.get("seconds"),this.data.milli=this.get("time")):this.data.year=this.data.month=this.data.date=this.data.hours=this.data.minutes=this.data.seconds=null},shifting:function(e,t){return this.isValid&&(/\d+/g.test(t)?(t=Math.ceil(parseFloat(t)),X.timeTypes[e]&&(this.date[X.timeTypes[e].set](this.date[X.timeTypes[e].get]()+t),this.fixedInfo())):console.warn("更新值必须是数字",e,t)),this},set:function(e,t){var n;return this.isValid&&(t?((n=this.clone()).date[X.timeTypes[t].set](e),this.checkValid(n.date)?this.date[X.timeTypes[t].set](e):console.warn("日期值不正确",t,e)):(n=new s(e)).isValid?this.date.setTime(n.date.getTime()):console.warn("日期值不正确",e),this.fixedInfo()),this},get:function(e){return this.isValid?e?this.date[X.timeTypes[e].get]():this.date:"Invalid Date"},format:function(e){if(!this.isValid)return"Invalid Date";let t=this;return e.replace(/\[[^(\[|\])]+\]|Y{1,4}|M{1,4}|D{1,2}|wC|w{1,2}|H{1,2}|h{1,2}|aC|a|A|m{1,2}|s{1,2}|SSS/g,function(e){return X.timeAction[e]?X.timeAction[e](t.date):e})},toLocal:function(){return this.isValid?this.date.toISOString():"Invalid Date"},isBefore:function(e,t){e=this.isBeforeSameAfter(e,t);return"string"==R.getType(e)?e:e[0]<e[1]},isafter:function(e,t){e=this.isBeforeSameAfter(e,t);return"string"==R.getType(e)?e:e[0]>e[1]},issame:function(e,t){e=this.isBeforeSameAfter(e,t);return"string"==R.getType(e)?e:e[0]==e[1]},isBeforeSameAfter:function(e,t){var n="Invalid Date，type:"+t+"，value:"+e;if(!this.isValid)return n;let a;e=this.isEuiTime(e)?e:new s(this.initStr(e));return a=t?e.isValid?[this.date[X.timeTypes[t].get](),e.date[X.timeTypes[t].get]()]:n:e.isValid?[this.date.getTime(),e.date.getTime()]:n},isbetween:function(e,t,n){var a,i;return this.isValid?(a=this.isEuiTime(e)?e:new s(this.initStr(e)),i=this.isEuiTime(t)?t:new s(this.initStr(t)),a.isValid?i.isValid?!!(this.isBefore(e,n)&&this.isafter(t,n)||this.isafter(e,n)&&this.isBefore(t,n)):"Invalid Date，第二参数":"Invalid Date，第一参数"):"Invalid Date"},isEuiTime:function(e){return!(!e||!e.EUITIME)},checkValid:function(e){return e?"Invalid Date"!=e.toString():"Invalid Date"!=this.date.toString()},clone:function(){return this.isValid?new s(this.date.getTime()):new s},getMonthLength:function(e){var t=this.clone();return t.set(1,"date").set(null!=e?e:t.get("month")+1,"month").set(0,"date").get("date")}};var e,w=[{devicePixelRatio:3,width:375,height:812},{devicePixelRatio:3,width:414,height:896},{devicePixelRatio:2,width:414,height:896}];let C=!1;if(/iphone/gi.test(window.navigator.userAgent)){var b=window.devicePixelRatio,L=window.screen.width,x=window.screen.height;for(let e=0;e<3;e++)if(w[e].devicePixelRatio===b&&w[e].height===x&&w[e].width===L){C=!0;break}}const U={};let k={closeStopScroll:!0};for(e in U.storage=f,U.setConfig=function(e){k={...k,res:e}},T)U["_"+e]=T[e];return U.popup=function(e){return new t(e)},U.toast=function(e){return new n(e)},U.notify=function(e){return new a(e)},U.time=function(e,t){return t?new s(e).format(t):new s(e)},U.actionSheet=function(e){return new i(e)},U.dialog=function(e){return new o(e)},U.selecter=function(e){return new v(e)},U.picker=function(e){return new l(e)},U.pickerGroup=function(e){return new r(e)},U.datetimePicker=function(e){return new c(e)},U.swipe=function(e){return new d(e)},U.scrollBottom=function(e){return new u(e)},U.overTouch=function(e){return new m(e)},U.calendar=function(e){return new p(e)},U.cascader=function(e){return new h(e)},U}();window.eui=Eui,window.Eui=Eui;